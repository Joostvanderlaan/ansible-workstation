  - name: Install snapd
    apt: name=snapd

  - name: Install flatpak
    apt: name=flatpak
# flatpak remote-add --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo

  - name: Install Snap Store
    snap:
      name:
        - snap-store

  - name: Install Deps
    snap:
      name:
        - google-cloud-sdk
      classic: yes
  
  - name: Remove Snaps we replaced with bins
    snap:
      name:
        - sublime-text
        - goland # removed entirely
        - webstorm # removed entirely
        - kubectl
        - terraform
        - code # VS code
        - go # Golang
        - postman
      classic: yes
      state: absent

    # Install a snap with from a specific channel
  - name: Install "Hugo" with option --channel=extended
    snap:
      name: hugo
      channel: extended

  - name: Install gitkraken
    snap:
      name:
        - gitkraken

  - name: Install signal-desktop
    snap:
      name:
        - signal-desktop

  - name: Install spotify
    snap:
      name:
        - spotify
